(this.webpackJsonpbad_bank=this.webpackJsonpbad_bank||[]).push([[0],{484:function(e,t,a){"use strict";a.r(t);var c=a(10),n=a.n(c),s=a(66),r=a(9),l=a.n(r),o=a(25),i=a(3),j=a(2),b=a.n(j),u=a(0);var d=function(e){return console.log(e.user),void 0===e.user?Object(u.jsxs)("nav",{className:"navbar navbar-expand-lg",style:{backgroundColor:"#e3f2fd"},children:[Object(u.jsx)("a",{className:"navbar-brand",href:"#",children:"BadBank"}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(u.jsxs)("ul",{className:"navbar-nav",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link",href:"/CreateAccount/",children:"Create Account"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link",href:"/Login/",children:"Login"})})]})})]}):Object(u.jsxs)("nav",{className:"navbar navbar-expand-lg",style:{backgroundColor:"#e3f2fd"},children:[Object(u.jsx)("a",{className:"navbar-brand",href:"#",children:"BadBank"}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(u.jsxs)("ul",{className:"navbar-nav",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link",href:"#/deposit/",children:"Deposit"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link",href:"#/withdraw/",children:"Withdraw"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link",href:"#/balance/",children:"Balance"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link",href:"#/alldata/",children:"AllData"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link",href:"#",onClick:function(){e.setUser(""),Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/account/logout");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a);case 7:case"end":return e.stop()}}),e)})))(),window.location.replace("/")},children:"Logout"})})]})})]})},x=(a(159),a.p+"static/media/bank.16d29e2d.png"),h=a(13),m=a.n(h);function O(e){var t=b.a.useState(""),a=Object(i.a)(t,2),c=a[0],n=a[1],s=b.a.useState(""),r=Object(i.a)(s,2),l=r[0],o=r[1];return Object(u.jsxs)(u.Fragment,{children:["Email ",Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"input",className:"form-control",placeholder:"Enter email",value:c,onChange:function(e){return n(e.currentTarget.value)}}),Object(u.jsx)("br",{}),"Password",Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",value:l,onChange:function(e){return o(e.currentTarget.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){e.setShow(!1);var t={email:c,password:l};console.log(t),function(e){return m.a.post("/account/login",e)}(t).then((function(t){console.log(t.code),"success"===t.code?e.setUser(c):alert("Login unsuccessful")}))},style:{margin:"5px"},children:"Login"}),Object(u.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){window.location.replace("/CreateAccount")},style:{marginLeft:"30px"},children:"Create Account"})]})}var p=function(e){var t=b.a.useState(!0),a=Object(i.a)(t,2),c=a[0],n=a[1],s=b.a.useState(""),r=Object(i.a)(s,2);return r[0],r[1],Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"card mb-3",style:{maxWidth:"540px",border:"3px ridge",backgroundColor:"#669999"},children:[Object(u.jsx)("h3",{children:"Welcome to Online Banking!"}),Object(u.jsxs)("div",{className:"row g-0",children:[Object(u.jsx)("div",{className:"col-md-4",style:{padding:"20px"},children:Object(u.jsx)("img",{src:x,className:"img-fluid",alt:"Responsive image",style:{marginLeft:"20px"}})}),Object(u.jsx)("div",{className:"col-md-8",children:Object(u.jsx)("div",{className:"card-body",children:c?Object(u.jsx)(O,{setShow:n,setUser:e.setUser}):null})})]})]})})};function v(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h5",{children:"You have successfully created your account."}),Object(u.jsx)("button",{type:"submit",className:"btn btn-light",onClick:function(){return e.setShow(!0)},children:"Add another account"})]})}function g(e){var t=b.a.useState(""),a=Object(i.a)(t,2),c=a[0],n=a[1],s=b.a.useState(""),r=Object(i.a)(s,2),l=r[0],o=r[1],j=b.a.useState(""),d=Object(i.a)(j,2),x=d[0],h=d[1];return Object(u.jsxs)(u.Fragment,{children:["Name",Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"input",className:"form-control",placeholder:"Enter name",value:c,onChange:function(e){return n(e.currentTarget.value)}}),Object(u.jsx)("br",{}),"Email address",Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"input",className:"form-control",placeholder:"Enter email",value:l,onChange:function(e){return o(e.currentTarget.value)}}),Object(u.jsx)("br",{}),"Password",Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",value:x,onChange:function(e){return h(e.currentTarget.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{className:"btn btn-primary",onClick:function(){console.log(c,l,x),""!==c&&""!==l&&""!==x?function(e){return m.a.post("/account/create",e)}({name:c,email:l,password:x}).then((function(t){console.log(t),"code"in t&&"error"===t.code?alert("The account is already taken"):(alert("Account created successfully"),e.setShow(!1),window.location.replace("/Login"))})):alert("Please enter complete information")},children:"Create Account"})]})}var f=function(){var e=b.a.useState(!0),t=Object(i.a)(e,2),a=t[0],c=t[1],n=b.a.useState(""),s=Object(i.a)(n,2);return s[0],s[1],Object(u.jsxs)("div",{className:"card mb-3",style:{maxWidth:"540px",border:"3px ridge",backgroundColor:"#669999"},children:[Object(u.jsx)("h3",{children:"Welcome to Online Banking!"}),Object(u.jsxs)("div",{className:"row g-0",children:[Object(u.jsx)("div",{className:"col-md-4",style:{padding:"20px"},children:Object(u.jsx)("img",{src:x,className:"img-fluid",alt:"Responsive image",style:{marginLeft:"20px"}})}),Object(u.jsx)("div",{className:"col-md-8",children:Object(u.jsx)("div",{className:"card-body",children:a?Object(u.jsx)(g,{setShow:c}):Object(u.jsx)(v,{setShow:c})})})]})]})};var N=function(e){var t=b.a.useState(""),a=Object(i.a)(t,2),c=a[0],n=a[1],s=[];return b.a.useEffect((function(){var t="/account/all/".concat(e.user);fetch(t).then((function(e){return e.json()})).then((function(e){console.log(e),s=e,n(JSON.stringify(e))}))}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("table",{class:"table table-success table-striped",children:[Object(u.jsx)("thead",{style:{textAlign:"center"},children:Object(u.jsx)("h3",{children:"Transaction History"})}),Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Date"}),Object(u.jsx)("th",{children:"Email"}),Object(u.jsx)("th",{children:"Balance Remaining"}),Object(u.jsx)("th",{children:"Transaction Type"})]}),c&&s.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.timeStamp}),Object(u.jsx)("td",{children:e.email}),Object(u.jsx)("td",{children:e.balance}),Object(u.jsx)("td",{children:e.description})]})}))]})]})})},y=function(e){var t=e.onChange;return Object(u.jsxs)("label",{className:"label huge",children:[Object(u.jsx)("br",{}),"Enter Deposit Amount:",Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"number",id:"deposited-amount",onChange:t}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"submit",value:"Deposit Amount"}),Object(u.jsx)("img",{src:""})]})},w=function(e){console.log(e.user);var t=b.a.useState(0),a=Object(i.a)(t,2),c=a[0],n=a[1],s=0,r="Current Balance:  $".concat(c);console.log("Render Account");return b.a.useEffect((function(){if(void 0!==e.user){var t="/account/balance/".concat(e.user);Object(o.a)(l.a.mark((function e(){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:c=e.sent,n(Number(c.balance));case 7:case"end":return e.stop()}}),e)})))()}}),[e.user]),Object(u.jsxs)("div",{className:"card mb-3",style:{maxWidth:"540px",border:"3px ridge",backgroundColor:"#669999"},children:[Object(u.jsx)("h3",{children:"Deposit Fund into your account!"}),Object(u.jsxs)("div",{className:"row g-0",children:[Object(u.jsx)("div",{className:"col-md-4",style:{padding:"20px"},children:Object(u.jsx)("img",{src:x,className:"img-fluid",alt:"Responsive image",style:{marginLeft:"20px"}})}),Object(u.jsx)("div",{className:"col-md-8",children:Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("form",{onSubmit:function(t){n(c+s),t.preventDefault();var a="/account/deposit/".concat(e.user,"/").concat(c+s);Object(o.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,console.log(c);case 7:case"end":return e.stop()}}),e)})))(),s=0},children:[Object(u.jsx)("h2",{id:"total",children:r}),Object(u.jsx)(y,{onChange:function(e){console.log("handleChange ".concat(e.target.value)),s=Number(e.target.value)},children:" Deposit"})]})})})]})]})};n.a.render(Object(u.jsx)(w,{}),document.getElementById("root"));var k=w,C=function(e){var t=e.onChange;return Object(u.jsxs)("label",{className:"label huge",children:[Object(u.jsx)("br",{}),"Enter Withraw Amount:",Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"number",onChange:t}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"submit",value:"Deposit Amount"}),Object(u.jsx)("img",{src:""})]})},S=function(e){console.log(e.user);var t=b.a.useState(0),a=Object(i.a)(t,2),c=a[0],n=a[1],s=0,r="Current Balance:  $".concat(c);console.log("Render Account");return b.a.useEffect((function(){var t="/account/balance/".concat(e.user);Object(o.a)(l.a.mark((function e(){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:c=e.sent,n(Number(c.balance));case 7:case"end":return e.stop()}}),e)})))()}),[e.user]),Object(u.jsxs)("div",{className:"card mb-3",style:{maxWidth:"540px",border:"3px ridge",backgroundColor:"#669999"},children:[Object(u.jsx)("h3",{children:"Withdraw Fund from your account!"}),Object(u.jsxs)("div",{className:"row g-0",children:[Object(u.jsx)("div",{className:"col-md-4",style:{padding:"20px"},children:Object(u.jsx)("img",{src:x,className:"img-fluid",alt:"Responsive image",style:{marginLeft:"20px"}})}),Object(u.jsx)("div",{className:"col-md-8",children:Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("form",{onSubmit:function(t){if(c<s)alert("You don't have enough fund!");else{n(c-s),t.preventDefault();var a="/account/withdraw/".concat(e.user,"/").concat(c-s);Object(o.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,console.log(c);case 7:case"end":return e.stop()}}),e)})))()}},children:[Object(u.jsx)("h2",{id:"total",children:r}),Object(u.jsx)(C,{onChange:function(e){console.log("handleChange ".concat(e.target.value)),s=Number(e.target.value)},children:" Deposit"})]})})})]})]})};n.a.render(Object(u.jsx)(S,{}),document.getElementById("root"));var E=S;var A=function(e){return Object(u.jsxs)("div",{className:"card mb-3 "+(e.bgcolor?" bg-"+e.bgcolor:" ")+(e.textcolor?" text-"+e.textcolor:" "),style:{maxWidth:"18rem"},children:[Object(u.jsx)("div",{className:"card-header",children:e.header}),Object(u.jsxs)("div",{className:"card-body",children:[e.title&&Object(u.jsx)("h5",{className:"card-title",children:e.title}),e.text&&Object(u.jsx)("p",{className:"card-text",children:e.text}),e.body,e.style&&Object(u.jsx)("div",{id:"createStatus",children:e.status})]})]})};function B(e){var t=b.a.useState(""),a=Object(i.a)(t,2),c=a[0],n=a[1],s=b.a.useState(""),r=Object(i.a)(s,2),l=(r[0],r[1],b.a.useContext(b.a));return Object(u.jsxs)(u.Fragment,{children:["Email ",Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"input",className:"form-control",placeholder:"Enter email",value:c,onChange:function(e){return n(e.currentTarget.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{type:"submit",className:"btn btn-light",onClick:function(){console.log(c),l.users.push({email:c}),e.setShow(!1)},children:"Show Balance"})]})}var D=function(){var e=b.a.useState(!0),t=Object(i.a)(e,2),a=t[0],c=t[1],n=b.a.useState(""),s=Object(i.a)(n,2),r=s[0];return s[1],Object(u.jsx)(A,{bgcolor:"primary",header:"Balance",status:r,body:a?Object(u.jsx)(B,{setShow:c}):null})},T=a(5);function L(){var e=b.a.useState(),t=Object(i.a)(e,2),a=t[0],c=t[1];return b.a.useEffect((function(){Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/account/info");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log("User is ",a),c(a.user);case 8:case"end":return e.stop()}}),e)})))()}),[]),Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(s.a,{children:[Object(u.jsx)(d,{user:a,setUser:c}),Object(u.jsx)("div",{className:"container",style:{padding:"70px"},children:Object(u.jsxs)(T.c,{children:[Object(u.jsx)(T.a,{exact:!0,path:"/",component:function(){return Object(u.jsx)(p,{setUser:c})}}),Object(u.jsx)(T.a,{path:"/CreateAccount/",component:f}),Object(u.jsx)(T.a,{path:"/alldata/",component:function(){return Object(u.jsx)(N,{user:a})}}),Object(u.jsx)(T.a,{path:"/login",component:function(){return Object(u.jsx)(p,{setUser:c})}}),Object(u.jsx)(T.a,{path:"/Deposit/",component:function(){return Object(u.jsx)(k,{user:a})}}),Object(u.jsx)(T.a,{path:"/Withdraw/",component:function(){return Object(u.jsx)(E,{user:a})}}),Object(u.jsx)(T.a,{path:"/Balance/",component:D})]})})]})})}n.a.render(Object(u.jsx)(s.a,{children:Object(u.jsx)(L,{})}),document.getElementById("root"))}},[[484,1,2]]]);
//# sourceMappingURL=main.30301435.chunk.js.map