(this.webpackJsonpbad_bank=this.webpackJsonpbad_bank||[]).push([[0],{455:function(e,t,a){"use strict";a.r(t);var c=a(10),n=a.n(c),s=a(61),r=a(4),o=a.n(r),l=a(12),i=a(3),j=a(2),u=a.n(j),b=a(0);var d=function(e){return console.log(e.user),void 0===e.user?Object(b.jsxs)("nav",{className:"navbar navbar-expand-lg",style:{backgroundColor:"#e3f2fd"},children:[Object(b.jsx)("a",{className:"navbar-brand",href:"#",children:"BadBank"}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(b.jsxs)("ul",{className:"navbar-nav",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("a",{className:"nav-link",href:"/CreateAccount/",children:"Create Account"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("a",{className:"nav-link",href:"/Login/",children:"Login"})})]})})]}):Object(b.jsxs)("nav",{className:"navbar navbar-expand-lg",style:{backgroundColor:"#e3f2fd"},children:[Object(b.jsx)("a",{className:"navbar-brand",href:"#",children:"BadBank"}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(b.jsxs)("ul",{className:"navbar-nav",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("a",{className:"nav-link",href:"#/deposit/",children:"Deposit"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("a",{className:"nav-link",href:"#/withdraw/",children:"Withdraw"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("a",{className:"nav-link",href:"#/balance/",children:"Balance"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("a",{className:"nav-link",href:"#/alldata/",children:"AllData"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("a",{className:"nav-link",href:"#",onClick:function(){e.setUser(""),Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/account/logout");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a);case 7:case"end":return e.stop()}}),e)})))(),window.location.replace("/")},children:"Logout"})})]})})]})},x=(a(147),a.p+"static/media/bank.16d29e2d.png");function h(e){var t=u.a.useState(""),a=Object(i.a)(t,2),c=a[0],n=a[1],s=u.a.useState(""),r=Object(i.a)(s,2),j=r[0],d=r[1],x=u.a.useContext(u.a);return Object(b.jsxs)(b.Fragment,{children:["Email ",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"input",className:"form-control",placeholder:"Enter email",value:c,onChange:function(e){return n(e.currentTarget.value)}}),Object(b.jsx)("br",{}),"Password",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",value:j,onChange:function(e){return d(e.currentTarget.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){console.log(c,j),x.users.push({email:c,password:j}),e.setShow(!1);var t="/account/login/".concat(c,"/").concat(j);Object(l.a)(o.a.mark((function a(){var n,s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(t);case 2:return n=a.sent,a.next=5,n.json();case 5:s=a.sent,console.log(s),"success"===s.code?(e.setUser(c),window.location.replace("/deposit")):(alert("Login unsuccessful"),window.location.replace("/CreateAccount/"));case 8:case"end":return a.stop()}}),a)})))()},style:{margin:"5px"},children:"Login"}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){window.location.replace("/CreateAccount")},style:{marginLeft:"30px"},children:"Create Account"})]})}var m=function(e){var t=u.a.useState(!0),a=Object(i.a)(t,2),c=a[0],n=a[1];return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"card mb-3",style:{maxWidth:"540px",border:"3px ridge",backgroundColor:"#669999"},children:[Object(b.jsx)("h3",{children:"Welcome to Online Banking!"}),Object(b.jsxs)("div",{className:"row g-0",children:[Object(b.jsx)("div",{className:"col-md-4",style:{padding:"20px"},children:Object(b.jsx)("img",{src:x,className:"img-fluid",alt:"Responsive image",style:{marginLeft:"20px"}})}),Object(b.jsx)("div",{className:"col-md-8",children:Object(b.jsx)("div",{className:"card-body",children:c?Object(b.jsx)(h,{setShow:n,setUser:e.setUser}):null})})]})]})})};function O(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h5",{children:"You have successfully created your account."}),Object(b.jsx)("button",{type:"submit",className:"btn btn-light",onClick:function(){return e.setShow(!0)},children:"Add another account"})]})}function p(e){var t=u.a.useState(""),a=Object(i.a)(t,2),c=a[0],n=a[1],s=u.a.useState(""),r=Object(i.a)(s,2),j=r[0],d=r[1],x=u.a.useState(""),h=Object(i.a)(x,2),m=h[0],O=h[1];return Object(b.jsxs)(b.Fragment,{children:["Name",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"input",className:"form-control",placeholder:"Enter name",value:c,onChange:function(e){return n(e.currentTarget.value)}}),Object(b.jsx)("br",{}),"Email address",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"input",className:"form-control",placeholder:"Enter email",value:j,onChange:function(e){return d(e.currentTarget.value)}}),Object(b.jsx)("br",{}),"Password",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",value:m,onChange:function(e){return O(e.currentTarget.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){console.log(c,j,m);var t="/account/create/".concat(c,"/").concat(j,"/").concat(m);Object(l.a)(o.a.mark((function a(){var c,n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(t);case 2:return c=a.sent,console.log(c),a.next=6,c.json();case 6:"code"in(n=a.sent)&&"error"===n.code?alert("The account is already taken"):(alert("Account created successfully"),e.setShow(!1),window.location.replace("/#/Login"));case 8:case"end":return a.stop()}}),a)})))()},children:"Create Account"})]})}var v=function(){var e=u.a.useState(!0),t=Object(i.a)(e,2),a=t[0],c=t[1],n=u.a.useState(""),s=Object(i.a)(n,2);return s[0],s[1],Object(b.jsxs)("div",{className:"card mb-3",style:{maxWidth:"540px",border:"3px ridge",backgroundColor:"#669999"},children:[Object(b.jsx)("h3",{children:"Welcome to Online Banking!"}),Object(b.jsxs)("div",{className:"row g-0",children:[Object(b.jsx)("div",{className:"col-md-4",style:{padding:"20px"},children:Object(b.jsx)("img",{src:x,className:"img-fluid",alt:"Responsive image",style:{marginLeft:"20px"}})}),Object(b.jsx)("div",{className:"col-md-8",children:Object(b.jsx)("div",{className:"card-body",children:a?Object(b.jsx)(p,{setShow:c}):Object(b.jsx)(O,{setShow:c})})})]})]})};var g=function(e){var t=u.a.useState(""),a=Object(i.a)(t,2),c=a[0],n=a[1],s=[];return u.a.useEffect((function(){var t="/account/all/".concat(e.user);fetch(t).then((function(e){return e.json()})).then((function(e){console.log(e),s=e,n(JSON.stringify(e))}))}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("table",{class:"table table-success table-striped",children:[Object(b.jsx)("thead",{style:{textAlign:"center"},children:Object(b.jsx)("h3",{children:"Transaction History"})}),Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Date"}),Object(b.jsx)("th",{children:"Email"}),Object(b.jsx)("th",{children:"Balance Remaining"}),Object(b.jsx)("th",{children:"Transaction Type"})]}),c&&s.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.timeStamp}),Object(b.jsx)("td",{children:e.email}),Object(b.jsx)("td",{children:e.balance}),Object(b.jsx)("td",{children:e.description})]})}))]})]})})},f=function(e){var t=e.onChange;return Object(b.jsxs)("label",{className:"label huge",children:[Object(b.jsx)("br",{}),"Enter Deposit Amount:",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"number",id:"deposited-amount",onChange:t}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"submit",value:"Deposit Amount"}),Object(b.jsx)("img",{src:""})]})},N=function(e){console.log(e.user);var t=u.a.useState(0),a=Object(i.a)(t,2),c=a[0],n=a[1],s=0,r="Current Balance:  $".concat(c);console.log("Render Account");return u.a.useEffect((function(){if(void 0!==e.user){var t="/account/balance/".concat(e.user);Object(l.a)(o.a.mark((function e(){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:c=e.sent,n(Number(c.balance));case 7:case"end":return e.stop()}}),e)})))()}}),[e.user]),Object(b.jsxs)("div",{className:"card mb-3",style:{maxWidth:"540px",border:"3px ridge",backgroundColor:"#669999"},children:[Object(b.jsx)("h3",{children:"Deposit Fund into your account!"}),Object(b.jsxs)("div",{className:"row g-0",children:[Object(b.jsx)("div",{className:"col-md-4",style:{padding:"20px"},children:Object(b.jsx)("img",{src:x,className:"img-fluid",alt:"Responsive image",style:{marginLeft:"20px"}})}),Object(b.jsx)("div",{className:"col-md-8",children:Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("form",{onSubmit:function(t){n(c+s),t.preventDefault();var a="/account/deposit/".concat(e.user,"/").concat(c+s);Object(l.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,console.log(c);case 7:case"end":return e.stop()}}),e)})))(),s=0},children:[Object(b.jsx)("h2",{id:"total",children:r}),Object(b.jsx)(f,{onChange:function(e){console.log("handleChange ".concat(e.target.value)),s=Number(e.target.value)},children:" Deposit"})]})})})]})]})};n.a.render(Object(b.jsx)(N,{}),document.getElementById("root"));var y=N,w=function(e){var t=e.onChange;return Object(b.jsxs)("label",{className:"label huge",children:[Object(b.jsx)("br",{}),"Enter Withraw Amount:",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"number",onChange:t}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"submit",value:"Deposit Amount"}),Object(b.jsx)("img",{src:""})]})},k=function(e){console.log(e.user);var t=u.a.useState(0),a=Object(i.a)(t,2),c=a[0],n=a[1],s=0,r="Current Balance:  $".concat(c);console.log("Render Account");return u.a.useEffect((function(){var t="/account/balance/".concat(e.user);Object(l.a)(o.a.mark((function e(){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:c=e.sent,n(Number(c.balance));case 7:case"end":return e.stop()}}),e)})))()}),[e.user]),Object(b.jsxs)("div",{className:"card mb-3",style:{maxWidth:"540px",border:"3px ridge",backgroundColor:"#669999"},children:[Object(b.jsx)("h3",{children:"Withdraw Fund from your account!"}),Object(b.jsxs)("div",{className:"row g-0",children:[Object(b.jsx)("div",{className:"col-md-4",style:{padding:"20px"},children:Object(b.jsx)("img",{src:x,className:"img-fluid",alt:"Responsive image",style:{marginLeft:"20px"}})}),Object(b.jsx)("div",{className:"col-md-8",children:Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("form",{onSubmit:function(t){if(c<s)alert("You don't have enough fund!");else{n(c-s),t.preventDefault();var a="/account/withdraw/".concat(e.user,"/").concat(c-s);Object(l.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,console.log(c);case 7:case"end":return e.stop()}}),e)})))()}},children:[Object(b.jsx)("h2",{id:"total",children:r}),Object(b.jsx)(w,{onChange:function(e){console.log("handleChange ".concat(e.target.value)),s=Number(e.target.value)},children:" Deposit"})]})})})]})]})};n.a.render(Object(b.jsx)(k,{}),document.getElementById("root"));var C=k;var S=function(e){return Object(b.jsxs)("div",{className:"card mb-3 "+(e.bgcolor?" bg-"+e.bgcolor:" ")+(e.textcolor?" text-"+e.textcolor:" "),style:{maxWidth:"18rem"},children:[Object(b.jsx)("div",{className:"card-header",children:e.header}),Object(b.jsxs)("div",{className:"card-body",children:[e.title&&Object(b.jsx)("h5",{className:"card-title",children:e.title}),e.text&&Object(b.jsx)("p",{className:"card-text",children:e.text}),e.body,e.style&&Object(b.jsx)("div",{id:"createStatus",children:e.status})]})]})};function E(e){var t=u.a.useState(""),a=Object(i.a)(t,2),c=a[0],n=a[1],s=u.a.useState(""),r=Object(i.a)(s,2),o=(r[0],r[1],u.a.useContext(u.a));return Object(b.jsxs)(b.Fragment,{children:["Email ",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"input",className:"form-control",placeholder:"Enter email",value:c,onChange:function(e){return n(e.currentTarget.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",className:"btn btn-light",onClick:function(){console.log(c),o.users.push({email:c}),e.setShow(!1)},children:"Show Balance"})]})}var A=function(){var e=u.a.useState(!0),t=Object(i.a)(e,2),a=t[0],c=t[1],n=u.a.useState(""),s=Object(i.a)(n,2),r=s[0];return s[1],Object(b.jsx)(S,{bgcolor:"primary",header:"Balance",status:r,body:a?Object(b.jsx)(E,{setShow:c}):null})},B=a(6);function D(){var e=u.a.useState(),t=Object(i.a)(e,2),a=t[0],c=t[1];return u.a.useEffect((function(){Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/account/info");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log("User is ",a),c(a.user);case 8:case"end":return e.stop()}}),e)})))()}),[]),Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(s.a,{children:[Object(b.jsx)(d,{user:a,setUser:c}),Object(b.jsx)("div",{className:"container",style:{padding:"70px"},children:Object(b.jsxs)(B.c,{children:[Object(b.jsx)(B.a,{exact:!0,path:"/",component:function(){return Object(b.jsx)(m,{setUser:c})}}),Object(b.jsx)(B.a,{path:"/CreateAccount/",component:v}),Object(b.jsx)(B.a,{path:"/alldata/",component:function(){return Object(b.jsx)(g,{user:a})}}),Object(b.jsx)(B.a,{path:"/login",component:function(){return Object(b.jsx)(m,{setUser:c})}}),Object(b.jsx)(B.a,{path:"/Deposit/",component:function(){return Object(b.jsx)(y,{user:a})}}),Object(b.jsx)(B.a,{path:"/Withdraw/",component:function(){return Object(b.jsx)(C,{user:a})}}),Object(b.jsx)(B.a,{path:"/Balance/",component:A})]})})]})})}n.a.render(Object(b.jsx)(s.a,{children:Object(b.jsx)(D,{})}),document.getElementById("root"))}},[[455,1,2]]]);
//# sourceMappingURL=main.4b9b55e9.chunk.js.map