(this.webpackJsonpbad_bank=this.webpackJsonpbad_bank||[]).push([[0],{61:function(e,t,a){"use strict";a.r(t);var c=a(11),n=a.n(c),s=a(12),r=a(3),l=a(1),o=a.n(l),i=a(15),j=a.n(i),b=a(26),d=a(0);var u=function(e){return console.log(e.user),null===e.user?Object(d.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(d.jsx)("a",{className:"navbar-brand",href:"#",children:"Badbank"}),Object(d.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(d.jsx)("span",{className:"navbar-toggler-icon"})}),Object(d.jsx)("div",{className:"collapse navbar-collapse",id:"navbarText",children:Object(d.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(d.jsx)("li",{className:"nav-item active",children:Object(d.jsxs)("a",{className:"nav-link",href:"/withdraw/",children:["Withdraw",Object(d.jsx)("span",{class:"sr-only",children:"(current)"})]})}),Object(d.jsx)("li",{className:"nav-item active",children:Object(d.jsx)("a",{className:"nav-link",href:"/CreateAccount/",children:"Create Account"})}),Object(d.jsx)("li",{className:"nav-item active",children:Object(d.jsx)("a",{className:"nav-link",href:"/Login/",children:"Login"})})]})})]}):Object(d.jsxs)("nav",{className:"navbar navbar-expand-lg navbar navbar-light",style:{opacity:"0.8",backgroundColor:"#e3f2fd"},children:[Object(d.jsx)("a",{className:"navbar-brand",href:"#",children:"Badbank"}),Object(d.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(d.jsx)("span",{className:"navbar-toggler-icon"})}),Object(d.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(d.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(d.jsx)("li",{className:"nav-item active",children:Object(d.jsx)("a",{className:"nav-link",href:"/withdraw/",children:"Withdraw"})}),Object(d.jsx)("li",{className:"nav-item active",children:Object(d.jsx)("a",{className:"nav-link",href:"/alldata/",children:"Transaction History"})}),Object(d.jsx)("li",{className:"nav-item active",children:Object(d.jsx)("a",{className:"nav-link",onClick:function(){e.setUser(""),Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/account/logout");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a);case 7:case"end":return e.stop()}}),e)})))(),localStorage.clear(),window.location.replace("/")},children:"Logout"})})]}),Object(d.jsxs)("span",{className:"navbar-text",children:["Welcome ",localStorage.getItem("loggedUser")]})]})]})},m=a.p+"static/media/bank.16d29e2d.png",h=a(7),x=a.n(h),O=function(e){return x.a.post("/account/balance",e)};function g(e){var t=o.a.useState(""),a=Object(r.a)(t,2),c=a[0],n=a[1],s=o.a.useState(""),l=Object(r.a)(s,2),i=l[0],j=l[1];return Object(d.jsxs)(d.Fragment,{children:["Email ",Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"input",className:"form-control",placeholder:"Enter email",value:c,onChange:function(e){return n(e.currentTarget.value)}}),Object(d.jsx)("br",{}),"Password",Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",value:i,onChange:function(e){return j(e.currentTarget.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){if(""!==c&&""!==i){e.setShow(!1);var t={email:c,password:i};console.log(t),function(e){return x.a.post("/account/login",e)}(t).then((function(t){console.log(t),"success"===t.data.code?(e.setUser(c),localStorage.setItem("loggedUser",c),window.location.replace("/deposit")):(alert("Login unsuccessful"),window.location.replace("/CreateAccount"))}))}else alert("Please enter complete information")},style:{margin:"5px"},children:"Login"}),Object(d.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){window.location.replace("/CreateAccount")},style:{marginLeft:"30px"},children:"Create Account"})]})}var p=function(e){var t=o.a.useState(!0),a=Object(r.a)(t,2),c=a[0],n=a[1],s=o.a.useState(""),l=Object(r.a)(s,2);return l[0],l[1],Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"card mb-3",style:{maxWidth:"540px",border:"3px ridge",backgroundColor:"#669999"},children:[Object(d.jsx)("h3",{children:"Welcome to Online Banking!"}),Object(d.jsxs)("div",{className:"row g-0",children:[Object(d.jsx)("div",{className:"col-md-4",style:{padding:"20px"},children:Object(d.jsx)("img",{src:m,className:"img-fluid",alt:"Responsive image",style:{marginLeft:"20px"}})}),Object(d.jsx)("div",{className:"col-md-8",children:Object(d.jsx)("div",{className:"card-body",children:c?Object(d.jsx)(g,{setShow:n,setUser:e.setUser}):null})})]})]})})};function v(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h5",{children:"You have successfully created your account."}),Object(d.jsx)("button",{type:"submit",className:"btn btn-light",onClick:function(){return e.setShow(!0)},children:"Add another account"})]})}function f(e){var t=o.a.useState(""),a=Object(r.a)(t,2),c=a[0],n=a[1],s=o.a.useState(""),l=Object(r.a)(s,2),i=l[0],j=l[1],b=o.a.useState(""),u=Object(r.a)(b,2),m=u[0],h=u[1];return Object(d.jsxs)(d.Fragment,{children:["Name",Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"input",className:"form-control",placeholder:"Enter name",value:c,onChange:function(e){return n(e.currentTarget.value)}}),Object(d.jsx)("br",{}),"Email address",Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"input",className:"form-control",placeholder:"Enter email",value:i,onChange:function(e){return j(e.currentTarget.value)}}),Object(d.jsx)("br",{}),"Password",Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",value:m,onChange:function(e){return h(e.currentTarget.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{className:"btn btn-primary",onClick:function(){console.log(c,i,m),""!==c&&""!==i&&""!==m?function(e){return x.a.post("/account/create",e)}({name:c,email:i,password:m}).then((function(t){console.log(t),"code"in t.data&&"error"===t.data.code?alert("The account is already taken"):(alert("Account created successfully"),e.setShow(!1),window.location.replace("/Login"))})):alert("Please enter complete information")},children:"Create Account"})]})}var N=function(){var e=o.a.useState(!0),t=Object(r.a)(e,2),a=t[0],c=t[1],n=o.a.useState(""),s=Object(r.a)(n,2);return s[0],s[1],Object(d.jsxs)("div",{className:"card mb-3",style:{maxWidth:"540px",border:"3px ridge",backgroundColor:"#669999"},children:[Object(d.jsx)("h3",{children:"Welcome to Online Banking!"}),Object(d.jsxs)("div",{className:"row g-0",children:[Object(d.jsx)("div",{className:"col-md-4",style:{padding:"20px"},children:Object(d.jsx)("img",{src:m,className:"img-fluid",alt:"Responsive image",style:{marginLeft:"20px"}})}),Object(d.jsx)("div",{className:"col-md-8",children:Object(d.jsx)("div",{className:"card-body",children:a?Object(d.jsx)(f,{setShow:c}):Object(d.jsx)(v,{setShow:c})})})]})]})};var y=function(e){var t=o.a.useState(""),a=Object(r.a)(t,2),c=a[0],n=a[1];return o.a.useEffect((function(){var t;"/account/all/".concat(e.user);(t=e.user,x.a.get("/account/all/"+t)).then((function(e){n(e.data)}))}),[]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("table",{class:"table table-success table-striped",children:[Object(d.jsx)("thead",{style:{textAlign:"center"},children:Object(d.jsx)("h3",{children:"Transaction History"})}),Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Date"}),Object(d.jsx)("th",{children:"Email"}),Object(d.jsx)("th",{children:"Balance Remaining"}),Object(d.jsx)("th",{children:"Transaction Type"})]}),c&&c.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.timeStamp}),Object(d.jsx)("td",{children:e.email}),Object(d.jsx)("td",{children:e.balance}),Object(d.jsx)("td",{children:e.description})]})}))]})]})})},w=function(e){var t=e.onChange;return Object(d.jsxs)("label",{className:"label huge",children:[Object(d.jsx)("br",{}),"Enter Deposit Amount:",Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"number",id:"deposited-amount",onChange:t}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"submit",value:"Deposit Amount"}),Object(d.jsx)("img",{src:""})]})},C=function(e){console.log(e.user);var t=o.a.useState(0),a=Object(r.a)(t,2),c=a[0],n=a[1],s=0,l="Current Balance:  $".concat(c);console.log("Render Account"),o.a.useEffect((function(){void 0!==e.user&&O({email:e.user}).then((function(e){n(Number(e.data.docs[0].balance))}))}),[e.user]);return Object(d.jsxs)("div",{className:"card mb-3",style:{maxWidth:"540px",border:"3px ridge",backgroundColor:"#669999"},children:[Object(d.jsx)("h3",{children:"Deposit Fund into your account!"}),Object(d.jsxs)("div",{className:"row g-0",children:[Object(d.jsx)("div",{className:"col-md-4",style:{padding:"20px"},children:Object(d.jsx)("img",{src:m,className:"img-fluid",alt:"Responsive image",style:{marginLeft:"20px"}})}),Object(d.jsx)("div",{className:"col-md-8",children:Object(d.jsx)("div",{className:"card-body",children:Object(d.jsxs)("form",{onSubmit:function(t){n(c+s),t.preventDefault(),function(e){return x.a.post("/account/deposit",e)}({user:e.user,balance:c+s}).then((function(e){console.log("Successfully updated the balance")})),s=0},children:[Object(d.jsx)("h2",{id:"total",children:l}),Object(d.jsx)(w,{onChange:function(e){console.log("handleChange ".concat(e.target.value)),s=Number(e.target.value)},children:" Deposit"})]})})})]})]})},k=function(e){var t=e.onChange;return Object(d.jsxs)("label",{className:"label huge",children:[Object(d.jsx)("br",{}),"Enter Withraw Amount:",Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"number",onChange:t}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"submit",value:"Deposit Amount"}),Object(d.jsx)("img",{src:""})]})},S=function(e){console.log(e.user);var t=o.a.useState(0),a=Object(r.a)(t,2),c=a[0],n=a[1],s=0,l="Current Balance:  $".concat(c);console.log("Render Account");return o.a.useEffect((function(){void 0!==e.user&&O({email:e.user}).then((function(e){n(Number(e.data.docs[0].balance))}))}),[e.user]),Object(d.jsxs)("div",{className:"card mb-3",style:{maxWidth:"540px",border:"3px ridge",backgroundColor:"#669999"},children:[Object(d.jsx)("h3",{children:"Withdraw Fund from your account!"}),Object(d.jsxs)("div",{className:"row g-0",children:[Object(d.jsx)("div",{className:"col-md-4",style:{padding:"20px"},children:Object(d.jsx)("img",{src:m,className:"img-fluid",alt:"Responsive image",style:{marginLeft:"20px"}})}),Object(d.jsx)("div",{className:"col-md-8",children:Object(d.jsx)("div",{className:"card-body",children:Object(d.jsxs)("form",{onSubmit:function(t){c<s?alert("You don't have enough fund!"):(n(c-s),t.preventDefault(),function(e){return x.a.post("/account/withdraw",e)}({user:e.user,balance:c-s}).then((function(e){console.log("Fund withdraw successful ",e.data)})))},children:[Object(d.jsx)("h2",{id:"total",children:l}),Object(d.jsx)(k,{onChange:function(e){console.log("handleChange ".concat(e.target.value)),s=Number(e.target.value)},children:" Deposit"})]})})})]})]})};n.a.render(Object(d.jsx)(S,{}),document.getElementById("root"));var T=S,A=a(2),E=a.p+"static/media/background.f1b86561.jpeg";function W(){var e=o.a.useState(),t=Object(r.a)(e,2),a=t[0],c=t[1];return o.a.useEffect((function(){x.a.get("/account/info").then((function(e){var t=localStorage.getItem("loggedUser");c(t),console.log("User set to ",a)}))}),[]),Object(d.jsx)("div",{className:"App",style:{backgroundImage:"url(".concat(E,")"),position:"absolute",left:"50%",top:"60%",transform:"translate(-50%, -70%)",width:"80%",height:"80%",fontFamily:"Indie Flower"},children:Object(d.jsxs)(s.a,{children:[Object(d.jsx)(u,{user:a,setUser:c}),Object(d.jsx)("div",{className:"container",style:{padding:"70px"},children:Object(d.jsxs)(A.c,{children:[Object(d.jsx)(A.a,{exact:!0,path:"/",component:function(){return Object(d.jsx)(p,{setUser:c})}}),Object(d.jsx)(A.a,{path:"/CreateAccount/",component:N}),Object(d.jsx)(A.a,{path:"/alldata/",component:function(){return Object(d.jsx)(y,{user:a})}}),Object(d.jsx)(A.a,{path:"/login",component:function(){return Object(d.jsx)(p,{setUser:c})}}),Object(d.jsx)(A.a,{path:"/Deposit/",component:function(){return Object(d.jsx)(C,{user:a})}}),Object(d.jsx)(A.a,{path:"/Withdraw/",component:function(){return Object(d.jsx)(T,{user:a})}})]})})]})})}n.a.render(Object(d.jsx)(s.a,{children:Object(d.jsx)(W,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.e20c7037.chunk.js.map